!function e(r,t,n){function a(E,o){if(!t[E]){if(!r[E]){var f="function"==typeof require&&require;if(!o&&f)return f(E,!0);if(i)return i(E,!0);var R=new Error("Cannot find module '"+E+"'");throw R.code="MODULE_NOT_FOUND",R}var u=t[E]={exports:{}};r[E][0].call(u.exports,function(e){var t=r[E][1][e];return a(t?t:e)},u,u.exports,e,r,t,n)}return t[E].exports}for(var i="function"==typeof require&&require,E=0;E<n.length;E++)a(n[E]);return a}({1:[function(e,r,t){"use strict";function n(){if(_){N=.001*((new Date).getTime()-b),S++;var e=S%360*Math.PI/180;m.bindFramebuffer(m.FRAMEBUFFER,x.f),m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT),m.useProgram(v),m.bindBuffer(m.ARRAY_BUFFER,B),m.enableVertexAttribArray(g),m.vertexAttribPointer(g,3,m.FLOAT,!1,0,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,s),m.uniform1f(M[0],N+I),m.uniform2fv(M[1],[F,l]),m.uniform2fv(M[2],[A,d]),m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0),m.bindFramebuffer(m.FRAMEBUFFER,null),m.clearColor(0,0,0,1),m.clearDepth(1),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),m.useProgram(h),u(m,D,y,p),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,L),O.identity(w),O.rotate(w,e,[0,1,0],w),O.multiply(G,w,H),m.bindTexture(m.TEXTURE_2D,x.t),m.uniform1i(C[1],0),m.uniformMatrix4fv(C[0],!1,H),m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0),m.flush(),setTimeout(n,P)}}function a(e){_=e.currentTarget.checked,_?(b=(new Date).getTime(),n()):(console.log("time"+N),console.log("tempTime"+I),I+=N)}function i(e){F=e.offsetX/A,l=e.offsetY/d}function E(e,r){var t,n=document.getElementById(r);if(n){switch(n.type){case"x-shader/x-vertex":t=e.createShader(e.VERTEX_SHADER);break;case"x-shader/x-fragment":t=e.createShader(e.FRAGMENT_SHADER);break;default:return}return e.shaderSource(t,n.text),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:void alert(e.getShaderInfoLog(t))}}function o(e,r,t){var n=e.createProgram();return e.attachShader(n,r),e.attachShader(n,t),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)?(e.useProgram(n),n):void alert(e.getProgramInfoLog(n))}function f(e,r){var t=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),t}function R(e,r){var t=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Int16Array(r),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),t}function u(e,r,t,n){for(var a in r)e.bindBuffer(e.ARRAY_BUFFER,r[a]),e.enableVertexAttribArray(t[a]),e.vertexAttribPointer(t[a],n[a],e.FLOAT,!1,0,0)}function T(e,r,t){var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var a=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,r,t),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,a);var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,t,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),{f:n,d:a,t:i}}var c,A,d,F,l,m,_,U,b,g,B,s,v,D,L,x,h,N=0,I=0,P=1e3/30,S=0,M=[],p=[],y=[],C=[],O=new matIV,w=O.identity(O.create()),X=O.identity(O.create()),Y=O.identity(O.create()),G=O.identity(O.create()),H=O.identity(O.create());window.onload=function(){c=document.getElementById("canvas"),A=500,d=300,c.width=A,c.height=d,U=document.getElementById("check"),c.addEventListener("mousemove",i,!0),U.addEventListener("change",a,!0),m=c.getContext("webgl")||c.getContext("experimental-webgl"),v=o(m,E(m,"tvs"),E(m,"tfs")),_=null!==v,_||(U.checked=!1),M[0]=m.getUniformLocation(v,"time"),M[1]=m.getUniformLocation(v,"mouse"),M[2]=m.getUniformLocation(v,"iResolution");var e=[-1,1,0,1,1,0,-1,-1,0,1,-1,0],r=[0,2,1,1,2,3];B=f(m,e),s=R(m,r),g=m.getAttribLocation(v,"position");var t=E(m,"vs"),u=E(m,"fs");h=o(m,t,u),y[0]=m.getAttribLocation(h,"position"),y[1]=m.getAttribLocation(h,"color"),y[2]=m.getAttribLocation(h,"textureCoord"),p[0]=3,p[1]=4,p[2]=2;var N=[-1,1,0,1,1,0,-1,-1,0,1,-1,0],I=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],P=[0,0,1,0,0,1,1,1],S=[0,1,2,3,2,1],w=f(m,N),H=f(m,I),k=f(m,P);D=[w,H,k],L=R(m,S),C[0]=m.getUniformLocation(h,"mvpMatrix"),C[1]=m.getUniformLocation(h,"texture"),O.lookAt([0,0,5],[0,0,0],[0,1,0],X),O.perspective(45,c.width/c.height,.1,100,Y),O.multiply(Y,X,G),m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL),m.activeTexture(m.TEXTURE0);var q=512,V=512;x=T(m,q,V),m.clearColor(0,0,0,1),F=.5,l=.5,b=(new Date).getTime(),n()}},{}]},{},[1]);